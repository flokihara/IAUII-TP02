---
title: "IAUII-TP02"
author: "flokihara"
date: "3/10/2021"
output: html_document
---

TRABAJO PRACTICO 02- SCRAPPING.


---
title: "IAUII-TP02 - Scraping"
author: "flokihara"
date: "3/10/2021"
output: html_document
---

TRABAJO PRACTICO 02- SCRAPING.


```{r}
library(tidyverse)
library(rvest)
```


#OBJETIVO: Obtener información actualizad de la cotización del dolar (en sus diversos tipos) (Fuente: Página web Cronista.com)
(Dolar BNA , Dolar Blue, Dolar CCl, Dolar Solidario)

A partir de la página del cronista.com crearemos una tabla que permita obtener los distintos valores de dolar del momento con su variación.

```{r}
url <- "https://www.cronista.com/MercadosOnline/dolar.html"
```

Usando Selector Gadget obtenemos los datos de la página que serán los que compongan nuestra tabla de cotizaciones

```{r}
Tipo_dolar <- read_html(url) %>%
  html_nodes(xpath = '//*[(@id = "market-scrll-1")]//*[contains(concat( " ", @class, " " ), concat( " ", "name", " " ))]') %>%
  html_text2()
  
```


A partir de los datos de la página, obtendremos las variaciones porcentuales de cambio que se van generando en comparación con el día anterior

```{r}
 variacion <- read_html(url) %>% 
  html_nodes(xpath = '//*[(@id = "market-scrll-1")]//*[contains(concat( " ", @class, " " ), concat( " ", "percentage", " " ))]') %>%
  html_text()
```

```{r}
head(variacion)
```


Obtendremos el valor del dolar al momento de actualización del presente archivo

```{r}
valor_dolar <- read_html(url) %>% 
  html_nodes(xpath = '//*[contains(concat( " ", @class, " " ), concat( " ", "value", " " ))]') %>%
  html_text()

```


Vinculamos los datos, armando una tabla (nuestro dataframe de trabajo)

```{r}
data_dolar <- tibble(Tipo_dolar = Tipo_dolar, variacion = variacion, valor = valor_dolar)
```


```{r}
head(data_dolar)
```
